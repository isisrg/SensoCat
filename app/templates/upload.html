{% extends "base.html" %}

{% block import %}
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{% endblock %}

{% block navbar %}
	<a class="nav-link" aria-current="page" href="{{ url_for('home') }}">Inicio</a>
	<a class="nav-link" href="{{ url_for('new_station') }}">Crear estaci√≥n</a>
	<a class="nav-link active" href="{{ url_for('upload') }}">Subir archivo</a>
	<a class="nav-link" href="{{ url_for('about') }}">Sobre nosotros</a>
{% endblock %}

{% block content %}
	<br>
	<div class="container">
		<div class="card bg-transparent">
			<div class="card-header">
				<p class="fs-2 fw-light"> Subir archivo </p>
			</div>
			<div class="card-body">
				<form method="POST" action="/upload/submit_csv" id="upload_form" enctype="multipart/form-data">
					Seleccione que tipo de datos se van a subir:
					<br>
					{{ form.data_type(class="form-select") }}
					<!-- {% for subfield in form.data_type %}
						{{ subfield(class="form-check-label") }}
						{{ subfield.label }} <br>
					{% endfor %} -->
					
					<!-- {% for error in form.data_type.errors %}
					<span style="color:red;">[{{ error }}]</span>
					{% endfor %} -->

					<br>
					Seleccione el archivo a subir:
					{{ form.file(class="form-control", accept=".csv", id="upload_file") }}
					<br>
					<div class="progress">
						<div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
					</div>
					<div id="targetLayer" style="display:none;"></div>
					<br>
					<input type="submit" class="btn btn-primary float-right" value="Subir datos">
				</form>
			</div>
		</div>
	</div>
	
{% endblock %}